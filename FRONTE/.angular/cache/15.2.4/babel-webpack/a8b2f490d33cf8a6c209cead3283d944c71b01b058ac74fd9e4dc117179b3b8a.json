{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/log.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/Services/Data.service\";\nimport * as i4 from \"@angular/forms\";\nexport class LogueoComponent {\n  constructor(logService, router, dataService) {\n    this.logService = logService;\n    this.router = router;\n    this.dataService = dataService;\n    this.Usuario = {\n      User: '',\n      Password: ''\n    };\n    this.num = 0;\n    this.usu = [];\n  }\n  LogIn() {\n    if (this.Usuario.User === 'Admon' && this.Usuario.Password === 'admon123') {\n      this.router.navigate(['/Admon']);\n    } else {\n      this.logService.logIn(this.Usuario).subscribe(res => {\n        console.log(res);\n        localStorage.setItem('token', res.token);\n        this.dataService.getID_User(this.Usuario).subscribe(data => {\n          this.dataService.getP().subscribe(dat => {\n            for (var i = 0; i < dat.length; i++) {\n              if (data.userId == dat[i].id_Estudiante) {\n                this.num += 1;\n              }\n            }\n            if (this.num != 1) {\n              this.router.navigate(['/RegistroAnteProyecto', data.userId]);\n            } else {\n              this.router.navigate(['/Start', data.userId]);\n            }\n          }, error => {\n            console.log(error);\n          });\n        });\n      }, err => console.log(err));\n    }\n  }\n}\nLogueoComponent.ɵfac = function LogueoComponent_Factory(t) {\n  return new (t || LogueoComponent)(i0.ɵɵdirectiveInject(i1.LogService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DataService));\n};\nLogueoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LogueoComponent,\n  selectors: [[\"app-logueo\"]],\n  decls: 15,\n  vars: 2,\n  consts: [[1, \"container\"], [3, \"submit\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"User\", \"id\", \"User\", \"placeholder\", \"XXXXXXXX\", 1, \"form-control\", \"mb-3\", \"mt-3\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"Password\", \"id\", \"Password\", \"placeholder\", \"***********\", 1, \"form-control\", \"mb-3\", \"mt-3\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"]],\n  template: function LogueoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"submit\", function LogueoComponent_Template_form_submit_1_listener() {\n        return ctx.LogIn();\n      });\n      i0.ɵɵelementStart(2, \"h3\");\n      i0.ɵɵtext(3, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵelementStart(5, \"div\", 2)(6, \"label\");\n      i0.ɵɵtext(7, \"UserName\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function LogueoComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.Usuario.User = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\");\n      i0.ɵɵtext(11, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function LogueoComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.Usuario.Password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"button\", 5);\n      i0.ɵɵtext(14, \"Login\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.Usuario.User);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.Usuario.Password);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAWA,OAAM,MAAOA,eAAe;EAE1BC,YAAoBC,UAAsB,EAAUC,MAAc,EAAUC,WAAwB;IAAhF,eAAU,GAAVF,UAAU;IAAsB,WAAM,GAANC,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IAEvF,YAAO,GAAG;MACRC,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE;KACX;IAED,QAAG,GAAW,CAAC;IACf,QAAG,GAAc,EAAE;EARmF;EAUtGC,KAAK;IACH,IAAG,IAAI,CAACC,OAAO,CAACH,IAAI,KAAK,OAAO,IAAI,IAAI,CAACG,OAAO,CAACF,QAAQ,KAAK,UAAU,EAAC;MACvE,IAAI,CAACH,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;KACjC,MAAI;MACH,IAAI,CAACP,UAAU,CAACQ,KAAK,CAAC,IAAI,CAACF,OAAO,CAAC,CAClCG,SAAS,CACVC,GAAG,IAAE;QACHC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,GAAG,CAACK,KAAK,CAAC;QACxC,IAAI,CAACb,WAAW,CAACc,UAAU,CAAC,IAAI,CAACV,OAAO,CAAC,CAACG,SAAS,CAACQ,IAAI,IAAE;UACxD,IAAI,CAACf,WAAW,CAACgB,IAAI,EAAE,CAACT,SAAS,CAAEU,GAAG,IAAI;YACxC,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACD,GAAG,CAACE,MAAM,EAAED,CAAC,EAAE,EAAC;cAC7B,IAAGH,IAAI,CAACK,MAAM,IAAIH,GAAG,CAACC,CAAC,CAAC,CAACG,aAAa,EAAC;gBACpC,IAAI,CAACC,GAAG,IAAI,CAAC;;;YAGlB,IAAG,IAAI,CAACA,GAAG,IAAI,CAAC,EAAC;cACf,IAAI,CAACvB,MAAM,CAACM,QAAQ,CAAC,CAAC,uBAAuB,EAAEU,IAAI,CAACK,MAAM,CAAC,CAAC;aAC7D,MAAI;cACH,IAAI,CAACrB,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,EAAEU,IAAI,CAACK,MAAM,CAAC,CAAC;;UAEjD,CAAC,EAAEG,KAAK,IAAE;YACRd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC;UACpB,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,EACDC,GAAG,IAAEf,OAAO,CAACC,GAAG,CAACc,GAAG,CAAC,CACtB;;EAEH;;AAzCW5B,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAA6B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX5BC,8BAAuB;MACbA;QAAA,OAAUC,WAAO;MAAA,EAAC;MACpBD,0BAAI;MAAAA,qBAAK;MAAAA,iBAAK;MACdA,qBAAI;MACJA,8BAAwB;MACbA,wBAAQ;MAAAA,iBAAQ;MACvBA,gCAA0H;MAAvGA;QAAA;MAAA,EAA0B;MAA7CA,iBAA0H;MAE9HA,8BAAwB;MACbA,yBAAQ;MAAAA,iBAAQ;MACvBA,iCAA6I;MAAtHA;QAAA;MAAA,EAA8B;MAArDA,iBAA6I;MAEjJA,kCAA8C;MAAAA,sBAAK;MAAAA,iBAAS;;;MANrCA,eAA0B;MAA1BA,0CAA0B;MAItBA,eAA8B;MAA9BA,8CAA8B","names":["LogueoComponent","constructor","logService","router","dataService","User","Password","LogIn","Usuario","navigate","logIn","subscribe","res","console","log","localStorage","setItem","token","getID_User","data","getP","dat","i","length","userId","id_Estudiante","num","error","err","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\antho\\Downloads\\final\\FRONTE\\src\\app\\Component\\logueo\\logueo.component.ts","C:\\Users\\antho\\Downloads\\final\\FRONTE\\src\\app\\Component\\logueo\\logueo.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Usuario } from 'src/app/Models/Usuario.model'; \nimport { DataService } from 'src/app/Services/Data.service';\nimport { LogService } from 'src/app/Services/log.service';\n\n@Component({\n  selector: 'app-logueo',\n  templateUrl: './logueo.component.html',\n  styleUrls: ['./logueo.component.sass']\n})\nexport class LogueoComponent {\n  \n  constructor(private logService: LogService, private router: Router, private dataService: DataService){}\n\n  Usuario = {\n    User: '',\n    Password: ''\n  }\n\n  num: number = 0;\n  usu: Usuario[] = [];\n\n  LogIn(){\n    if(this.Usuario.User === 'Admon' && this.Usuario.Password === 'admon123'){\n      this.router.navigate(['/Admon']);\n    }else{\n      this.logService.logIn(this.Usuario)\n      .subscribe(\n      res=>{\n        console.log(res);\n        localStorage.setItem('token', res.token);\n        this.dataService.getID_User(this.Usuario).subscribe(data=>{\n          this.dataService.getP().subscribe((dat) =>{\n            for(var i=0; i<dat.length; i++){\n              if(data.userId == dat[i].id_Estudiante){ \n                 this.num += 1;               \n              }\n            }\n            if(this.num != 1){\n              this.router.navigate(['/RegistroAnteProyecto', data.userId]);\n            }else{\n              this.router.navigate(['/Start', data.userId]);\n            }\n          }, error=>{\n            console.log(error)\n          })\n        })\n      },\n      err=>console.log(err)\n    )\n    }\n  }\n}\n","<div class=\"container\">\n    <form (submit)=\"LogIn()\">\n        <h3>Login</h3>\n        <br>\n        <div class=\"form-group\">\n            <label>UserName</label>\n            <input type=\"text\" [(ngModel)]=\"Usuario.User\" name=\"User\" id=\"User\" class=\"form-control mb-3 mt-3\" placeholder=\"XXXXXXXX\">\n        </div>\n        <div class=\"form-group\">\n            <label>Password</label>\n            <input type=\"password\" [(ngModel)]=\"Usuario.Password\" name=\"Password\" id=\"Password\" class=\"form-control mb-3 mt-3\" placeholder=\"***********\">\n        </div>\n        <button type=\"submit\" class=\"btn btn-success\">Login</button>\n    </form>\n    <!-- https://www.youtube.com/watch?v=afVktzayz1w -->\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}